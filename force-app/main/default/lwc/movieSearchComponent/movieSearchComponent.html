<template>
    <lightning-card title="Movie Search" icon-name="custom:custom63">
        <div class="slds-m-around_medium">
            <!-- Show Already Synced Message -->
            <template if:true={showAlreadySynced}>
                <lightning-button variant="brand" label="Movie data is already synced" disabled></lightning-button>
            </template>

            <!-- Show Search Results -->
            <template if:false={showAlreadySynced}>
                <template if:true={movies.length}>
                    <lightning-layout multiple-rows>
                        <template for:each={movies} for:item="movie">
                            <lightning-layout-item key={movie.tmdb_id} size="12" class="slds-box slds-m-around_small">
                                <lightning-layout vertical-align="center">
                                    <lightning-layout-item size="3">
                                        <img src={movie.poster_url} alt="Poster" width="100%" />
                                    </lightning-layout-item>
                                    <lightning-layout-item size="7">
                                        <p class="slds-text-heading_medium">{movie.title}</p>
                                        <p class="slds-text-body_small">{movie.release_date}</p>
                                        <p class="slds-m-top_medium">{movie.overview}</p> <!-- Added spacing above overview -->
                                    </lightning-layout-item>
                                    <lightning-layout-item size="2">
                                        <lightning-button label="Copy Movie" data-id={movie.tmdb_id} onclick={selectMovie} 
                                            class="slds-float_right custom-copy-button">
                                        </lightning-button>
                                    </lightning-layout-item>
                                </lightning-layout>
                            </lightning-layout-item>
                        </template>
                    </lightning-layout>
                </template>

                <!-- No Results Found -->
                <template if:false={movies.length}>
                    <p class="slds-text-heading_small">No movies found for the title "{movieTitle}".</p>
                </template>
            </template>
        </div>
    </lightning-card>
</template>
